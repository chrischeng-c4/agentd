project_name = "agentd"
scripts_dir = "agentd/scripts"

# =============================================================================
# Workflow Iteration Settings
# =============================================================================
[workflow]
format_iterations = 2          # proposal format validation iterations
planning_iterations = 2        # proposal ↔ challenge iterations
implementation_iterations = 2  # implement ↔ review iterations
archive_iterations = 1         # archive review iterations

# =============================================================================
# Gemini Configuration
# =============================================================================
[gemini]
command = "gemini"
default = "flash"  # Default model ID

[[gemini.models]]
id = "flash"
model = "gemini-3-flash-preview"
complexity = "medium"  # Handles up to Medium complexity

[[gemini.models]]
id = "pro"
model = "gemini-3-pro-preview"
complexity = "critical"  # Handles up to Critical complexity

# =============================================================================
# Codex Configuration
# =============================================================================
[codex]
command = "codex"
default = "balanced"  # Default model ID

[[codex.models]]
id = "fast"
model = "gpt-5.2-codex"
reasoning = "low"
complexity = "low"

[[codex.models]]
id = "balanced"
model = "gpt-5.2-codex"
reasoning = "medium"
complexity = "medium"

[[codex.models]]
id = "deep"
model = "gpt-5.2-codex"
reasoning = "high"
complexity = "high"

[[codex.models]]
id = "max"
model = "gpt-5.2-codex"
reasoning = "extra high"
complexity = "critical"

# =============================================================================
# Claude Configuration
# =============================================================================
[claude]
command = "claude"
default = "balanced"  # Default model ID

[[claude.models]]
id = "fast"
model = "haiku"
complexity = "low"

[[claude.models]]
id = "balanced"
model = "sonnet"
complexity = "medium"

[[claude.models]]
id = "deep"
model = "opus"
complexity = "critical"

# =============================================================================
# Validation Rules
# =============================================================================
[validation]
required_headings = [
    "Specification:",
    "Overview",
    "Requirements",
]
requirement_pattern = '^R\d+:'
scenario_pattern = "Scenario:"
scenario_min_count = 1
require_when_then = true
when_pattern = '- \*\*WHEN\*\*'
then_pattern = '- \*\*THEN\*\*'

[validation.severity_map]
missing_heading = "High"
invalid_requirement_format = "High"
missing_scenario = "High"
missing_when_then = "High"
duplicate_requirement = "High"
broken_reference = "Medium"
